### YARN

```
信息收集
Yarn构成:
Yarn主要由ResourceManager、NodeManager、ApplicationMaster、和Container组成
ResourceManager:
1.处理客户端的请求
2.监控NodeManager
3.启动或监控ApplicationMaster
4.资源分配与调度
NodeManager：
1.管理单个结点资源
2.处理来自ResourceManager的命令
3.处理来自ApplicationMaster的命令
ApplicationMaster的作用如下：
1负责数据的切分
2为应用程序申请资源分配给内部的任务
3任务的监控与容错
Container的作用：
container是yarn中资源的抽象，它封装了某个节点上的多为资源，如内存，CPU，磁盘，网络等。
```

### 概念

```
任务优先级排序和任务调度

任务就绪时间，任务传输通信时间（平均通信开销），任务调度时间，任务计算代价，任务完成时间。
任务调度根据是否有依赖关系Fenwick独立任务调度和相关任务调度。
任务调度跨度，用户QoS,计算节点资源的利用率。

任务调度主要从时间和空间两个方面考虑，最终将需要调度的任务分配并调度到相应的处理机上，合理的任务调度策略能提高资源利用率，降低系统能耗，提高效率。
任务调度主要需要解决两个问题，一方面是任务分配给哪个处理机调度，另一方面则是任务什么时候开始被调度。影响任务调度的因素包括任务下发的发价、任务本身的执行代价、任务之间的通信开销以及任务之间的依赖关系等。根据任务之间的依赖关系，一般将分布式异构环境中的任务调度分为独立任务调度和相关任务调度两种类型，以下分别从两个方面对任务调度的研究现状进行阐述。
```

### 独立任务调度

```
因此，在任务调度的过中，需要充分考虑任务调度的策略、制约任务调度的各种因素以及影响任务调度性能的各种参数，为用户提供最合适的计算资源，从而达到设定的调度目标。从任务调度算法的实时性角度，可以将独立任务调度分为批调度(batch  scheduling)和在线调度(online scheduling)两种策略

静态任务调度，动态任务调度
```

### 在线调度算法

```
常见的有轮转调度算法[42](RR)、加权轮转调度算法(wRR)、最小链接调度算法(LC)以及加权最小链接算法(w LC)四种算法。
```

##### 轮转调度算法

```
以轮转的方式依次将新的任务请求调度到不同的处理机上，缺点：针对性能异构的处理机效率差。
```

##### 最小链接调度算法

```
使用一个负载均衡器登记各个处理机的连接数。
```



### 批调度算法

```
批调度算法一般包括Min-Min[44]调度算法、Min-Max[44]算法、Sufferage算法、粒子群算法(Particle  Swarm  Optimization,PSO)和遗传算法(Genetic  Algorithm,GA)等几种。 
独立任务调度算法：MCT、MET 和 MIN-MIN 算法
```



### 工具

```
SimGrid仿真平台
CloudSim平台

重写 ＣｌｏｕｄＳｉｍ 中 ＤａｔａｃｅｎｔｅｒＢｒｏｋｅｒ类的任务分
配策略，实现本文提出的任务调度算法 ｂｉｎｇＣｌｏｕｄｌｅｔｓＴｏＶｍｓ－
ＢｙＴｈｒｅｅＷａｙ（）。在该方法内部直接按照算法生成的 ＡＬＬＣ
矩阵调度
```

### other

```
确定调度模型，建立多约束线性规划模型，求娥姐模型节点的优先级，获得各处理机最优任务调度数。

每台机器资源跑满？？既然是并行，在单台机器就不可以并行呀，那不就是一台机器只开一个worker。一台开一个，你都没有利用单台机器所有资源，还并行个毛线啊。
他们做的实验是怎么回事？如果给一台机器一直分配任务，它不是在该机器上串行执行嘛？而是会增加资源利用率？答：对的，会一直分配并执行，当发现没有满足条件的机器时不分配，等待有满足条件的机器。我们是基于假设一台计算资源在同一时刻仅能执行一个任务。

lisa任务的执行时间是人为可控的，也就是每个任务在每台不同性能的机器上的需要的执行时间都是一样的。对于这种场景，调度好像没有意义呀！不就是按序执行？谁空闲了就拿一个执行。让每个任务的期望完成时间不同，不然没有调度的意义。

每个任务的最早完成时间怎么得到的？
ETC(ExpectedTimeto Compuste)期望完成时间矩阵从哪来的？任务的期望完成时间由该任务的等待时间与预期执行时间组成。预期执行时间用任务长度处于对应机器的Mips，那任务长度从哪来。
ALLC虚拟机任务分配表

沙箱特点：每个任务时间可指定，数量多，文件为kb级别。样本有架构的区别，需要的虚拟机机器不同。样本可能有壳，这需要额外的时间花费。定义长度
```

