# 分布式项目架构

## 伪分布式

>虽有多个工程但在同一服务器上运行

例如：通过添加maven依赖关系，将父工程打包为war包。其子级工程打包为jar包放在/WEB-INF/lib下，将war包部署到tomcat实现访问。本质是一种自上而下的结构，父级可以调用更底层的自己模块，反之不可。若进行水平拆分，互相都可调用，不通过依赖实现。所以，只能通过网络调用水平模块的功能，请求数据或对象。

##  分布式

两工程互不依赖，部署在不同设备，使用远程调用进行互相调用。

### 实现远程调用的方式

#### WebServie

>WebService是指一中技术而非具体框架，古老技术。

#### Dubbo+Zookeeper

>Dubbo是阿里开发的一款基于RPC的方法远程调用和服务治理框架，读作dabo。
>
>dubbo使用了zookeeper作为其注册中心。
>
>Zookeeper是apacache hadopp的子项目，是一个树形的目录服务，支持变更推送。
>
>在分布式架构中，dubbo扮演服务治理框架的角色，zookeeper负责服务注册中心。

#### SpringBoot+SpringCloud

### 分布式架构的好处

>模块化组件化程度更高，容易开发维护和分工。是高内聚低耦合的体现。
>
>提升性能，需要用到分布式架构的项目往往是访问量很大的应用。

分布式应用通过负载均衡管理集群，提升性能。

集群为同构的，多个服务器上运行相同模块。

分布式为异构，多个服务器运行不同模块。

### 缺点

结构更复杂，部署复杂，数据不一致问题。

数据一致性要求原子性，要么都完成要么就失败。也就是分布式事务操作，对于失败的事务回滚，补偿失败的步骤。

### 服务

在分布式中，接口是对外开放的入口。接口隐藏实现的细节，调用者只用关心如何使用，不关心如何实现的。

在团队交流和设计时，使用接口规范。

服务始终处于运行状态，向需要者提供接口调用。

### SOA

>service oriented architecture

​	面向服务的架构。底层基于服务设计项目架构，把相同共能封装到一组服务中，统一的通过接口向外提供服务。

### 微服务

>把服务尽可能的设计小一点，通过组合实现丰富的功能。

### 传统开发组件

浏览器-handler-service-mapper-DB

中间件：负责莫一类功能，如redis，elasticsearch,activeMQ等。

### 其他

架构：dubbo+zookeeper ，springboot，springcloud

工程清单，工程关系：集成，聚合，依赖，工程的作用。

中间件：使用哪些，具体功能。

###  一个请求流程

浏览器，consumer，provider，中间件，返回值

### 业务功能

子系统，模块，子模块，类

# redis

>remote dictionary server

详细见redis.md

# zookeeper

# dubbo



